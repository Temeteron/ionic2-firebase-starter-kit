<ion-header>
  <ion-navbar color="dark">
    <ion-buttons left>
      <button ion-button icon-only (click)="presentAlert()">
        <ion-icon name="information-circle"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title text-center>Ionic 3</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="goHome()">
        <ion-icon name="home"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="background-template">
<div class="template-center">
  <h2 class="center">NpmJs Library "get-package-downloads" demo</h2>
  <p class="center">Get the monthly downloads of NpmJs packages or repositories which are published on NpmJs.</p>
  <p class="center">
    <ion-icon name="alert"></ion-icon>
    The search of NpmJs is case sensitive! We will transform your query to lower case, because all packages in NpmJs are published with lower case names.
  </p>
  <form (ngSubmit)="searchPackage()">
    <ion-item>
      <ion-input placeholder="Name of package" [(ngModel)]="package" name="Package" clearInput></ion-input>
    </ion-item>
    <div class="center">
      <button ion-button type="submit" color="secondary" round>Search package</button>
    </div>
  </form>
  <hr>
  <h4 class="center">Get downloads of package by string</h4>
  <p class="center"><b>function: </b>this.npmService.getDowloadsPackage('{{ package }}')
  </p>

  <div class="center">
    <ion-chip class="bold font-medium" color="primary">
      <ion-label>Result</ion-label>
    </ion-chip>

    <ion-chip class="font-medium" color="secondary">
      <ion-label >{{ downloadsPackage }}</ion-label>
    </ion-chip>
  </div>
  
  <hr>
  <h4 class="center">Get package info by string</h4>
  <p class="center"><b>function: </b>this.npmService.getPackageInfo('{{ package }}')</p>
  <div class="center">
    <ion-chip class="bold font-medium" color="primary">
      <ion-label>Homepage</ion-label>
    </ion-chip>

    <ion-chip class="font-medium" color="secondary">
      <ion-label >{{ packageInfo?.homepage || packageInfo?.repository.url }}</ion-label>
    </ion-chip>
    
    <div *ngIf="packageInfo?.homepage">
      <a ion-button round href="{{ packageInfo?.homepage }}" target="_blank">Go to GitHub homepage</a>
    </div>
  </div>
  

  <hr>
  <h4 class="center">Get downloads of package by repo</h4>
  <!-- <hr> -->
  <p class="center bold">Object repo arg:</p>
  <p class="center"><b>name:</b> {{ repo.name }}</p>
  <p class="center"><b>html_url:</b> {{ repo.html_url }}</p>
  <p class="center"><b>downloads:</b> 0 -> {{ repo.downloads }}</p>
  <hr>
  <p class="center"><b>function: </b>this.npmService.getDownloadsRepo(repo)</p>
  <div class="center">
    <ion-chip class="bold font-medium" color="primary">
      <ion-label>Result</ion-label>
    </ion-chip>

    <ion-chip class="font-medium" color="secondary">
      <ion-label >{{ downloadsRepo }}</ion-label>
    </ion-chip>
  </div>

  
  <p class="center"><b>function: </b>this.npmService.getDownloadsRepoPromise(repo)</p>
  <div class="center">
    <ion-chip class="bold font-medium" color="primary">
      <ion-label>Result</ion-label>
    </ion-chip>

    <ion-chip class="font-medium" color="secondary">
      <ion-label >{{ downloadsRepoPromise }}</ion-label>
    </ion-chip>
  </div>
  <hr>
<!--   <ion-item>
    <ion-label color="primary" floating clearInput>Name of repo</ion-label>
    <ion-input></ion-input>
  </ion-item>
 -->
  
  
<!--   <ion-item>
    <ion-label color="primary" floating clearInput>Name of package</ion-label>
    <ion-input></ion-input>
  </ion-item>
 -->

  <div text-center>
    <a ion-button round href="https://www.npmjs.com/package/get-package-downloads" target="_blank">Go to NpmJs Page</a>
  </div>

  <hr>

  <p class="center">
    <ion-icon name="ionic"></ion-icon>
<!--     <ion-icon name="github"></ion-icon>
    <ion-icon name="angular"></ion-icon> -->
    <ion-icon name="analytics"></ion-icon>
  </p>

  <p class="center">
    Check this library on a bigger scale, by analyzing and building a CV from a GitHub user!
  </p>

  <div text-center>
    <a ion-button round href="https://www.gitcv.com/" target="_blank">GitCV</a>
  </div>

</div>
</ion-content>
